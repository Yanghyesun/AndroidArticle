## ğŸ“Œ View Pager & Dot Indicator êµ¬í˜„í•˜ëŠ” ë°©ë²•

<img width="379" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2020-05-28 á„‹á…©á„’á…® 5 59 23" src="https://user-images.githubusercontent.com/37995236/83121279-11975a80-a10d-11ea-9f6a-de4bfb7fbd58.png">

ì´ëŸ° í™”ë©´ ì•±ì—ì„œ ë§ì´ ë³´ì…¨ì£ ? ì–´ë–»ê²Œ êµ¬í˜„í• ê¹Œìš”?

â¡ï¸ __View Pager & Tablayout__ ì„ ì´ìš©í•´ì„œ êµ¬í˜„â—ï¸

1ï¸âƒ£ dot indicator ë””ìì¸ ë§Œë“¤ì–´ì£¼ê¸°!(ë™ê·¸ë€ ì´ë¯¸ì§€) -> drawableí´ë”ì— selector_dot_indicator.xml ìƒì„±

```
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:state_selected="false">
        <shape
            android:innerRadius="0dp"
            android:shape="ring"
            android:thickness="6dp"
            android:useLevel="false">
            <solid android:color="@color/colorGrey"/>
        </shape>
    </item>
    <item android:state_selected="true">
        <shape
            android:innerRadius="0dp"
            android:shape="ring"
            android:thickness="6dp"
            android:useLevel="false">
            <solid android:color="@color/colorOver4"/>
        </shape>
    </item>
</selector>
```

2ï¸âƒ£view pager & tablayout í™”ë©´ ë§Œë“¤ì–´ì£¼ê¸°! -> activity_main.xml íŒŒì¼ ì‘ì„±

```
<androidx.viewpager.widget.ViewPager
    android:id="@+id/vp_home"
    android:layout_width="match_parent"
    android:layout_height="match_parent" />

<com.google.android.material.tabs.TabLayout
    android:id="@+id/tl_home"
    android:layout_width="match_parent"
    android:layout_height="20dp"
    app:layout_constraintBottom_toBottomOf="@+id/vp_home"
    app:tabBackground="@drawable/selector_dot_indicator"
    app:tabGravity="center"
    app:tabIndicatorHeight="0dp" />
```

3ï¸âƒ£view pager ì•ˆì— í™”ë©´ì„ fragmentë¡œ êµ¬í˜„ -> fragment_view.xml íŒŒì¼ ì‘ì„±<br/>
ì €ëŠ” ìœ„ì˜ í™”ë©´ê³¼ ë˜‘ê°™ì´ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤ :) ë‚˜ì¤‘ì— ì“¸ë•ŒëŠ” ë””ìì¸ë§ˆë‹¤ ë‹¤ë¥´ê² ì£ ?

```
<androidx.constraintlayout.widget.ConstraintLayout
     android:layout_width="match_parent"
     android:layout_height="match_parent">
     <ImageView
         android:id="@+id/img_ad"
         android:layout_width="match_parent"
         android:layout_height="match_parent"/>

     <TextView
         android:id="@+id/txt_ad"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         app:layout_constraintBottom_toBottomOf="parent"
         app:layout_constraintEnd_toEndOf="parent"
         app:layout_constraintStart_toStartOf="parent"
         app:layout_constraintTop_toTopOf="parent" />
</androidx.constraintlayout.widget.ConstraintLayout>
```

<br/>
ì, xml íŒŒì¼ì€ ë‹¤ ë§Œë“¤ì—ˆëŠ”ë° ê¸°ëŠ¥ì„ ì…í˜€ë´…ì‹œë‹¤ã€°ï¸
<br/>

4ï¸âƒ£ViewpagerAdapter íŒŒì¼ ë§Œë“¤ê¸°! -> ViewpagerAdapter.kt íŒŒì¼ ì‘ì„±

```
class ViewpagerAdapter(fm: FragmentManager, private val page_count: Int) : FragmentStatePagerAdapter(fm){
    override fun getItem(position: Int): Fragment {
        val viewFragment = ViewFragment()
        val bundle = Bundle(page_count)
        bundle.putInt("id",position)
        viewFragment.arguments = bundle
        return viewFragment
    }

    override fun getCount(): Int = page_count
}
```

5ï¸âƒ£ê° í™”ë©´ë‹¤ë‹¤ Fragment ì²˜ë¦¬ -> ViewFragment.kt íŒŒì¼ ì‘ì„±( fragment_view.xml íŒŒì¼ê³¼ ì—°ë™)

```
class ViewFragment : Fragment() {
    var view_id = 0
    override fun onCreateView(
        inflater: LayoutInflater, container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        // Inflate the layout for this fragment
        return inflater.inflate(R.layout.fragment_view, container, false)
    }

    override fun onActivityCreated(savedInstanceState: Bundle?) {
        super.onActivityCreated(savedInstanceState)

        view_id = arguments!!.getInt("id")
        init()
    }

    private fun init(){
        when(view_id){
            0 -> {
                img_ad.setBackgroundColor(Color.GRAY)
                txt_ad.text="ê´‘ê³ 1"
            }
            1 -> {
                img_ad.setBackgroundColor(Color.BLUE)
                txt_ad.text="ê´‘ê³ 2"
            }
            2 -> {
                img_ad.setBackgroundColor(Color.CYAN)
                txt_ad.text="ê´‘ê³ 3"
            }
            3 -> {
                img_ad.setBackgroundColor(Color.MAGENTA)
                txt_ad.text="ê´‘ê³ 4"
            }
        }

    }
}
```

6ï¸âƒ£Activity ì—ì„œ adapter ì—°ê²°í•´ì£¼ê¸° -> MainActivity.kt íŒŒì¼ ì‘ì„±
```
vp_home.adapter = ViewPagerAdapter(fragmentManager,4)
vp_home.offscreenPageLimit = 3
tl_home.setupWithViewPager(vp_home)
```
