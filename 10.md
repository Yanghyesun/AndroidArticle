## ğŸ“Œ Img íŒŒì¼ ì—…ë¡œë“œ

* retrofit ì¸í„°í˜ì´ìŠ¤

```
@Multipart
@POST("/upload/img")
fun uploadImage(
    @Part image: MultipartBody.Part?,
    @Part title: RequestBody
) : Call<BaseResponse<ImgResponse>>
```


* ê°¤ëŸ¬ë¦¬ í™”ë©´ ì—°ë™
```
val intent = Intent(Intent.ACTION_PICK)
intent.type = android.provider.MediaStore.Images.Media.CONTENT_TYPE
intent.data = android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI
startActivityForResult(intent,REQUEST_CODE_SELECT_IMAGE)
```

* ê°¤ëŸ¬ë¦¬ í™”ë©´ì„ ê°”ë‹¤ê°€ activityì— ëŒì•„ì™”ì„ë•Œ ì²˜ë¦¬
```
private var selectedPicUri : Uri? = null //ì²˜ìŒ ë³€ìˆ˜ ì²˜ë¦¬

override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {
    super.onActivityResult(requestCode, resultCode, data)
    if(requestCode == REQUEST_CODE_SELECT_IMAGE){
        if(resultCode == Activity.RESULT_OK){
            data?.let{
                selectedPicUri = it.data!!
                Glide.with(this).load(selectedPicUri).thumbnail(0.1f).into(img_seller_edit_profile)
            }
        }
    }
}
```

* ì´ë¯¸ì§€ íŒŒì¼ì„ ì„œë²„ì—ê²Œ ë³´ë‚´ëŠ” ì‘ì—…
```
//ì´ë¯¸ì§€ íŒŒì¼ ë‚´ë³´ë‚´ê¸°
val options = BitmapFactory.Options()
val inputStream: InputStream = contentResolver.openInputStream(selectedPicUri)!!
val bitmap = BitmapFactory.decodeStream(inputStream,null,options)
val byteArrayOutputStream = ByteArrayOutputStream()
bitmap!!.compress(Bitmap.CompressFormat.JPEG,20,byteArrayOutputStream)
val photoBody = RequestBody.create(MediaType.parse("image/jpg"),byteArrayOutputStream.toByteArray())
val picture_rb = MultipartBody.Part.createFormData("image", File(selectedPicUri.toString()).name,photoBody)

val title = RequestBody.create("text/plain".toMediaTypeOrNull(), "ì œëª©")

networkService.uploadImage(picture_rb,title).enqueue() //í†µì‹ 

```
picture_rbë¥¼ ì„œë²„ì—ê²Œ ë³´ë‚´ì£¼ë©´ ë!
