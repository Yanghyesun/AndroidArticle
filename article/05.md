## ğŸ“Œ Bottom Sheet Behavior ì‚¬ìš©í•˜ëŠ” ë°©ë²•

ì¹´ì¹´ì˜¤ë§µì—ì„œ ì¥ì†Œë¥¼ í´ë¦­í•˜ë©´ ë‚˜ì˜¤ëŠ” ì‘ì€ í™”ë©´ì„ ê¸°ì–µí•˜ì‹œë‚˜ìš”â“

â¡ï¸ ì´ëŸ° í˜•íƒœë¡œ í•˜ë‹¨ì— ë·°ê°€ ìˆì„ì‹œ ì²˜ë¦¬ í•´ì£¼ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©!

<img width="304" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2020-05-27 á„‹á…©á„Œá…¥á†« 3 26 39" src="https://user-images.githubusercontent.com/37995236/82936831-21f2ec80-9fca-11ea-95ce-f45c76b4553e.png">

<br/>

1ï¸âƒ£Bottom Sheet ë·° ë§Œë“¤ì–´ì£¼ê¸° -> resí´ë”ì—ì„œ bottom_sheet_view.xml íŒŒì¼ ë§Œë“¤ê¸° <br/>
* layout_behavior="com.google.android.material.bottomsheet.BottomSheetBehavior" í•„ìˆ˜ë¡œ ì„¤ì • â—ï¸
* behavior_peekHeight : bottom sheet ë·°ì˜ ê¸°ë³¸ ë†’ì´ë¥¼ ì„¤ì •
* behavior_hideable : ì‚¬ìš©ì‹œ ìŠ¤í¬ë¡¤ì‹œ trueë©´ ìˆ¨ê²¨ì§€ê³ , falseë©´ ìˆ¨ê²¨ì§€ì§€ ì•Šë„ë¡ ì„¤ì •
```
<androidx.constraintlayout.widget.ConstraintLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    app:behavior_peekHeight="620dp"
    app:behavior_hideable="true"
    app:layout_behavior="com.google.android.material.bottomsheet.BottomSheetBehavior"
    android:clickable="true">
    
    <!-- bottom sheet ë·° ì˜ì—­ -->
    
</androidx.constraintlayout.widget.ConstraintLayout>
```

2ï¸âƒ£CoordinatorLayout íƒœê·¸ ì´ìš© -> activity_main.xml íŒŒì¼ ë§Œë“¤ê¸°<br/>
```
<androidx.coordinatorlayout.widget.CoordinatorLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">
        
        <!-- ì›ë˜ ë·° í™”ë©´ ì˜ì—­ -->
        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent">
            <Button
                android:id="@+id/btn_show"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="ë³´ì—¬ì§€ê¸°"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintEnd_toEndOf="parent"/>
        </androidx.constraintlayout.widget.ConstraintLayout>
        
        
        <!-- bottom sheetê°€ ë³´ì—¬ì§€ë©´ ë’·ë°°ê²½ ì²˜ë¦¬ -->
        <View
            android:id="@+id/bottom_sheet_blur"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:background="#aa000000"
            android:visibility="gone"/>
            
        <!-- bottom sheet ë·° : xml íŒŒì¼ë¡œ ë§Œë“¤ì–´ì„œ include í•´ì£¼ê¸° -->
        <include
            android:id="@+id/bottom_sheet_view"
            layout="@layout/bottom_sheet_view" />
</androidx.coordinatorlayout.widget.CoordinatorLayout>

```

3ï¸âƒ£Activityì—ì„œ ê¸°ëŠ¥ ì²˜ë¦¬ -> MainActivity.kt íŒŒì¼ ì‘ì„±
* BottomSheetBehavior.from() ë©”ì„œë“œë¡œ bottome sheet ì„¤ì •
* state

  âœ”ï¸ STATE_COLLAPSED : height ë§Œí¼ ì²˜ë¦¬<br/>
  âœ”ï¸ STATE_HIDDEN : ìˆ¨ê¹€ ì²˜ë¦¬<br/>
  âœ”ï¸ STATE_EXPANDED : ê°€ë“ ì°¨ê²Œ ì²˜ë¦¬

```
 val bottomSheet: BottomSheetBehavior<View> = BottomSheetBehavior.from(bottom_sheet_view)
 bottomSheet.state = BottomSheetBehavior.STATE_HIDDEN
 bottomSheet.addBottomSheetCallback(object : BottomSheetBehavior.BottomSheetCallback(){
       override fun onSlide(bottomSheet: View, slideOffset: Float) {

       }
       override fun onStateChanged(bottomSheet: View, newState: Int) {
           when(newState){
               BottomSheetBehavior.STATE_COLLAPSED -> {
                   bottom_sheet_blur.visibility = View.VISIBLE
                   bottom_sheet_view.visibility = View.VISIBLE
               }
               BottomSheetBehavior.STATE_HIDDEN -> {
                   bottom_sheet_blur.visibility = View.INVISIBLE
                   bottom_sheet_view.visibility = View.INVISIBLE
               }
           }
       }
})
//ë²„íŠ¼ í´ë¦­ì‹œ bottom_sheet ë³´ì—¬ì§€ê¸°
btn_show.setOnClickListener {
    bottomSheet.state = BottomSheetBehavior.STATE_COLLAPSED
}
//ë’·ë°°ê²½ í´ë¦­ì‹œ bottom_sheet ìˆ¨ê²¨ì§€ê¸°
bottom_sheet_blur.setOnClickListener {
    bottomSheet.state = BottomSheetBehavior.STATE_HIDDEN
}
 ```
